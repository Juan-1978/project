<AddItem>
    orientation: 'vertical'
    spacing: '10dp'
    size_hint_x: 0.25
    pos_hint: {'center_y': 0.85}

    MDLabel:
        text: root.text
        halign: 'center'
        valign: 'top'

    TextInput:
        text: root.text_input.text
        on_text: root.text_input.text = self.text
        size_hint_y: None
        height: '30dp'

<EditItem>
    orientation: 'vertical'
    spacing: '10dp'
    size_hint_x: 0.25
    pos_hint: {'center_y': 0.85}

    MDLabel:
        text: root.text
        halign: 'center'
        valign: 'top'

    MDLabel:
        text: root.text_input.text
        size_hint_y: None
        height: '30dp'
        halign: 'center'

<CustomRow>
    orientation: 'vertical'

    MDDivider:

    MDLabel:
        text: root.text
        halign: root.halign_value
        font_size: '14sp'

<PaginatedGrid>:
    cols: root.cols
    row_default_height: '45dp'
    row_force_default: True
    height: self.minimum_height

<CategoryButton>
    size_hint: None, None
    size: '130dp', '40dp'
    background_normal: ''
    background_down: ''
    color: 'black'

<DisplayButton>
    style: 'outlined'
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    size_hint: None, None
    size: dp(135), dp(35)
    radius: [0, 0, 0, 0]

<InventoryScreen>
    MDCard:
        id: inventory_box
        style: 'elevated'
        size_hint: 0.9, 0.85
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
        padding: [15, 15, 30, 15]
        #spacing: '10dp'
        orientation: 'vertical'

        MDBoxLayout:
            size_hint: 1, 0.15
            padding: '15dp'
            spacing: '10dp'
            orientation: 'horizontal'

            Widget:

            MDLabel:
                id: table_lable
                text: 'INVENTORY'
                halign: 'center'
                valign: 'middle'

            Widget:

            MDLabel:
                text: 'Name:'
                halign: 'right'

            TextInput:
                id: name_input
                text_hint: 'Name'
                size_hint: None, None
                size: dp(120), dp(35)
                pos_hint: {'center_x': 0, 'center_y': 0.5}

            MDButton:
                id: find_btn
                style: 'outlined'
                size_hint: None, None
                size: dp(35), dp(35)
                radius: [0, 0, 0, 0]
                pos_hint: {"center_y": 0.5}
                on_press: root.find_item()
                MDButtonIcon:
                    icon: 'magnify'

            Widget:

            MDLabel:
                text: 'Category:'
                halign: 'right'

            DisplayButton:
                id: category_input
                MDButtonText:
                    id: button_text
                    text: 'All           '
                    halign: 'left'
                    on_text: root.display_table()
                MDButtonIcon:
                    icon: 'menu'
                    style: "standard"
                    theme_font_size: "Custom"
                    font_size: "16sp"
                    radius: [self.height / 2, ]
                    size_hint: None, None
                    size: "30dp", "30dp"

            Widget:

        MDBoxLayout:
            id: table_head
            size_hint: 1, 0.1
            padding: [0, 0, 35, 0]

        PaginatedGrid:
            id: table_box
            padding: [0, 0, 35, 0]

        MDBoxLayout:
            size_hint: None, None
            size: dp(100), dp(35)
            pos_hint: {'center_x': 0.95, 'center_y': 0.1}
            spacing: 0
            Button:
                id: prev_btn
                text: '<'
                color: 'black'
                background_normal: ''
                background_color: inventory_box.md_bg_color
                size_hint: None, None
                size: dp(35), dp(35)
                font_size: '24sp'

            Label:
                id: page_id
                text: root.ids.table_box.page_id
                size_hint: None, None
                size: dp(35), dp(35)
                color: 'black'
                font_size: '14sp'

            Button:
                id: next_btn
                text: '>'
                size_hint: None, None
                size: dp(35), dp(35)
                color: 'black'
                background_normal: ''
                background_color: inventory_box.md_bg_color
                font_size: '24sp'

    MDTopAppBar:
        size_hint: 1, 0.09
       
    MDFabButton:
        id: plus_btn
        icon: 'plus'
        pos_hint: {'center_x': 0.93, 'center_y': 0.07}
        on_press: 
            add_drawer.set_state('toggle')
            
    MDFabButton:
        id: edit_btn
        icon: 'pencil-outline'
        pos_hint: {'center_x': 0.45, 'center_y': 0.07}
        opacity: 0
        disabled: True
        on_press: 
            edit_drawer.set_state('toggle')
            root.load_editing_item()

    MDFabButton:
        id: delete_btn
        icon: 'delete'
        pos_hint: {'center_x': 0.55, 'center_y': 0.07}
        opacity: 0
        disabled: True
        on_press: delete_drawer.set_state('toggle')
        
    MDNavigationLayout:
            
        MDNavigationDrawer:
            id: add_drawer
            size_hint: 0.8, 0.45
            pos_hint: {'center_y': 0.5, 'center_y': 0.5}
            spacing: '10dp'
            orientation: 'vertical'
            on_close: root.close_add_card()

            MDLabel:
                text: 'Add a new Item'

            CategoryButton:
                id: add_cat_btn
                text: 'Select Category'
                on_text: root.show_add_card()

            MDCard:
                id: add_item_card
                orientation: 'horizontal'
                spacing: '5dp'
                opacity: 0
            
                AddItem:
                    id: item_name
                    text: 'Name'

                AddItem:
                    id: item_des
                    text: 'Description'

                AddItem:
                    id: item_price
                    text: 'Price'

                AddItem:
                    id: item_order
                    text: 'On Order'

                AddItem:
                    id: item_qua
                    text: 'Quantity'

                AddItem:
                    id: item_work
                    text: 'Work In Progress'
                    opacity: 0

                AddItem:
                    id: item_sale_price
                    text: 'Sale Price'
                    opacity: 0

            MDButton:
                id: add_submit
                style: 'filled'
                opacity: 0
                size_hint: 0.2, None
                height: '35dp'
                pos_hint: {'center_x': 0.75}
                disabled: True
                on_press: 
                    add_drawer.set_state('toggle')
                    root.add_item()
                MDButtonText:
                    text: 'Submit'

        MDNavigationDrawer:
            id: edit_drawer
            size_hint: 0.8, 0.45
            pos_hint: {'center_y': 0.5, 'center_y': 0.5}
            spacing: '10dp'
            orientation: 'vertical'
            on_close: root.close_edit_card()

            MDLabel:
                text: 'Edit Item'

            MDCard:
                orientation: 'horizontal'
                spacing: '5dp'
            
                EditItem:
                    id: edit_name
                    text: 'Name'

                EditItem:
                    id: edit_cat
                    text: 'Category'

                AddItem:
                    id: edit_des
                    text: 'Description'

                AddItem:
                    id: edit_order
                    text: 'On Order'

                AddItem:
                    id: edit_qua
                    text: 'Quantity'

                AddItem:
                    id: edit_sales
                    text: 'On Sales Order'
                    opacity: 0

                AddItem:
                    id: edit_work
                    text: 'Work In Progress'
                    opacity: 0

                AddItem:
                    id: edit_sale_price
                    text: 'Sale Price'
                    opacity: 0

            MDButton:
                style: 'filled'
                size_hint: 0.2, None
                height: '35dp'
                pos_hint: {'center_x': 0.75}
                on_press: 
                    root.save_edited_item()
                    edit_drawer.set_state('toggle')
                MDButtonText:
                    text: 'Submit'

        MDNavigationDrawer:
            id: delete_drawer
            size_hint: 0.65, 0.35
            pos_hint: {'center_y': 0.75, 'center_y': 0.5}
            spacing: '10dp'
            orientation: 'vertical'

            MDLabel:
                text: 'Are you sure you want to delete this item?'
                halign: 'center'
                valign: 'middle'

            MDBoxLayout:
                orientation: 'horizontal'
                spacing: '10dp'

                Widget:

                MDButton:
                    style: 'filled'
                    size_hint: 0.2, None
                    height: '35dp'
                    on_press: 
                        root.delete_item()
                        delete_drawer.set_state('toggle')
                    MDButtonText:
                        text: 'Accept'

                MDButton:
                    style: 'filled'
                    size_hint: 0.2, None
                    height: '35dp'
                    on_press: 
                        delete_drawer.set_state('toggle')
                    MDButtonText:
                        text: 'Cancel'

                Widget:

